import{q as p,i as j,r as i,u as v,j as e,k as y,P as N,e as P,B as o,g as b}from"./index-990712f9.js";function _(){var d;const{id:c}=p(),n=j(),[t,u]=i.useState(null),[x,l]=i.useState(!0),{addToCart:m}=v();if(i.useEffect(()=>{let a=!0;async function h(){try{l(!0);const r=await b(c);a&&u(r)}catch(r){console.error("Product load failed",r)}finally{a&&l(!1)}}return h(),()=>{a=!1}},[c]),x)return e.jsx("div",{className:"py-32 text-center",children:"Loading..."});if(!t)return e.jsx("div",{className:"py-32 text-center",children:"Product not found"});const s=t.variants&&t.variants[0],f=s?y(s.price_in_cents,s.currency_info):"",g=async()=>{await m(t,s,1),n("/cart")};return e.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-12",children:[e.jsx(N,{title:t.title||"Product"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsx(P,{src:t.image||t.images&&((d=t.images[0])==null?void 0:d.url),alt:t.title,className:"w-full h-auto rounded-xl"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:t.title}),e.jsx("p",{className:"text-purple-200 mb-4",children:t.subtitle||""}),e.jsx("div",{className:"text-2xl font-semibold mb-6",children:f}),e.jsx("div",{className:"mb-6 text-purple-200",dangerouslySetInnerHTML:{__html:t.description||""}}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(o,{size:"lg",onClick:g,children:"Add to cart"}),e.jsx(o,{variant:"ghost",onClick:()=>n(-1),children:"Back"})]})]})]})]})}export{_ as default};
