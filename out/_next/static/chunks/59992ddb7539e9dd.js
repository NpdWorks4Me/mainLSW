(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let n=e.r(32061);function i({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return n}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return o}});let n=e.r(43476),i=e.r(74080),a=e.r(63599),l=e.r(9885);function o({moduleIds:e}){if("undefined"!=typeof window)return null;let t=a.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let n=t.reactLoadableManifest;for(let t of e){if(!n[t])continue;let e=n[t].files;r.push(...e)}}return 0===r.length?null:(0,n.jsx)(n.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,l.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,i.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return u}});let n=e.r(43476),i=e.r(71645),a=e.r(67585),l=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let s={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},u=function(e){let t={...s,...e},r=(0,i.lazy)(()=>t.loader().then(o)),u=t.loading;function d(e){let o=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,d=s?i.Suspense:i.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(l.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(d,{...s?{fallback:o}:{},children:c})}return d.displayName="LoadableComponent",d}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let n=e.r(55682)._(e.r(69093));function i(e,t){let r={};"function"==typeof e&&(r.loader=e);let i={...r,...t};return(0,n.default)({...i,modules:i.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},53269,e=>{"use strict";var t=e.i(43476),r=e.i(80064),n=e.i(71645);let i=n.default.forwardRef(({className:e,type:i,...a},l)=>{let[o,s]=n.default.useState(!1);return(0,t.jsx)("input",{type:i,className:(0,r.cn)("flex h-12 w-full rounded-xl border-2 border-input bg-transparent px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 ease-in-out",o?"border-pink-400 shadow-md shadow-pink-400/20":"border-white/20",e),ref:l,onFocus:e=>{s(!0),a.onFocus&&a.onFocus(e)},onBlur:e=>{s(!1),a.onBlur&&a.onBlur(e)},...a})});i.displayName="Input",e.s(["Input",()=>i])},78490,38667,13582,62345,21061,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:n=!0}={}){return function(t){if(e?.(t),!1===n||!t.defaultPrevented)return r?.(t)}}"undefined"!=typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>t],78490);var r=e.i(71645),n=e.i(43476);function i(e,t){let i=r.createContext(t),a=e=>{let{children:t,...a}=e,l=r.useMemo(()=>a,Object.values(a));return(0,n.jsx)(i.Provider,{value:l,children:t})};return a.displayName=e+"Provider",[a,function(n){let a=r.useContext(i);if(a)return a;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function a(e,t=[]){let i=[],l=()=>{let t=i.map(e=>r.createContext(e));return function(n){let i=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return l.scopeName=e,[function(t,a){let l=r.createContext(a),o=i.length;i=[...i,a];let s=t=>{let{scope:i,children:a,...s}=t,u=i?.[e]?.[o]||l,d=r.useMemo(()=>s,Object.values(s));return(0,n.jsx)(u.Provider,{value:d,children:a})};return s.displayName=t+"Provider",[s,function(n,i){let s=i?.[e]?.[o]||l,u=r.useContext(s);if(u)return u;if(void 0!==a)return a;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=n.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}(l,...t)]}e.s(["createContext",()=>i,"createContextScope",()=>a],38667);var l=globalThis?.document?r.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>l],13582),r[" useEffectEvent ".trim().toString()],r[" useInsertionEffect ".trim().toString()];var o=r[" useInsertionEffect ".trim().toString()]||l;function s({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){let[a,l,s]=function({defaultProp:e,onChange:t}){let[n,i]=r.useState(e),a=r.useRef(n),l=r.useRef(t);return o(()=>{l.current=t},[t]),r.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,i,l]}({defaultProp:t,onChange:n}),u=void 0!==e,d=u?e:a;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==u){let t=u?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=u},[u,i])}return[d,r.useCallback(t=>{if(u){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else l(t)},[u,e,l,s])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>s],62345);var u=e.i(74080),d=e.i(59357),c=Symbol("radix.slottable");function f(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}var p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var i,a;let l,o,s,u=(a=i=`Primitive.${t}`,(l=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(r.isValidElement(n)){var a;let e,l,o=(a=n,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),s=function(e,t){let r={...t};for(let n in t){let i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...a}:"className"===n&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}(i,n.props);return n.type!==r.Fragment&&(s.ref=t?(0,d.composeRefs)(t,o):o),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${a}.SlotClone`,o=l,(s=r.forwardRef((e,t)=>{let{children:i,...a}=e,l=r.Children.toArray(i),s=l.find(f);if(s){let e=s.props.children,i=l.map(t=>t!==s?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,n.jsx)(o,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,n.jsx)(o,{...a,ref:t,children:i})})).displayName=`${i}.Slot`,s),c=r.forwardRef((e,r)=>{let{asChild:i,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(i?u:t,{...a,ref:r})});return c.displayName=`Primitive.${t}`,{...e,[t]:c}},{});function m(e,t){e&&u.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>p,"dispatchDiscreteCustomEvent",()=>m],21061)},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={callServer:function(){return a.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(32120),l=e.r(92245),o=e.r(35326)},85388,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(45172),i=e.i(56902),a=e.i(53269);e.i(74080);var l=e.i(28225),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let i=(0,l.createSlot)(`Primitive.${n}`),a=r.forwardRef((e,r)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?i:n,{...l,ref:r})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{}),s=r.forwardRef((e,r)=>(0,t.jsx)(o.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var u=e.i(98140),d=e.i(80064);let c=(0,u.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=r.default.forwardRef(({className:e,...r},n)=>(0,t.jsx)(s,{ref:n,className:(0,d.cn)(c(),e),...r}));f.displayName=s.displayName;var p=e.i(78490),m=e.i(59357),v=e.i(38667),b=e.i(62345),h=e.i(13582),g=e.i(21061),x="Switch",[y,j]=(0,v.createContextScope)(x),[w,S]=y(x),C=r.forwardRef((e,n)=>{let{__scopeSwitch:i,name:a,checked:l,defaultChecked:o,required:s,disabled:u,value:d="on",onCheckedChange:c,form:f,...v}=e,[h,y]=r.useState(null),j=(0,m.useComposedRefs)(n,e=>y(e)),S=r.useRef(!1),C=!h||f||!!h.closest("form"),[N,P]=(0,b.useControllableState)({prop:l,defaultProp:o??!1,onChange:c,caller:x});return(0,t.jsxs)(w,{scope:i,checked:N,disabled:u,children:[(0,t.jsx)(g.Primitive.button,{type:"button",role:"switch","aria-checked":N,"aria-required":s,"data-state":k(N),"data-disabled":u?"":void 0,disabled:u,value:d,...v,ref:j,onClick:(0,p.composeEventHandlers)(e.onClick,e=>{P(e=>!e),C&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),C&&(0,t.jsx)(R,{control:h,bubbles:!S.current,name:a,value:d,checked:N,required:s,disabled:u,form:f,style:{transform:"translateX(-100%)"}})]})});C.displayName=x;var N="SwitchThumb",P=r.forwardRef((e,r)=>{let{__scopeSwitch:n,...i}=e,a=S(N,n);return(0,t.jsx)(g.Primitive.span,{"data-state":k(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:r})});P.displayName=N;var R=r.forwardRef(({__scopeSwitch:e,control:n,checked:i,bubbles:a=!0,...l},o)=>{let s,u=r.useRef(null),d=(0,m.useComposedRefs)(u,o),c=(s=r.useRef({value:i,previous:i}),r.useMemo(()=>(s.current.value!==i&&(s.current.previous=s.current.value,s.current.value=i),s.current.previous),[i])),f=function(e){let[t,n]=r.useState(void 0);return(0,h.useLayoutEffect)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(n);return r.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==i&&t){let r=new Event("click",{bubbles:a});t.call(e,i),e.dispatchEvent(r)}},[c,i,a]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...l,tabIndex:-1,ref:d,style:{...l.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function k(e){return e?"checked":"unchecked"}R.displayName="SwitchBubbleInput";let E=r.default.forwardRef(({className:e,...r},n)=>(0,t.jsx)(C,{className:(0,d.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:n,children:(0,t.jsx)(P,{className:(0,d.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));E.displayName=C.displayName;let _=r.default.forwardRef(({className:e,...r},n)=>(0,t.jsx)("textarea",{className:(0,d.cn)("flex min-h-[120px] w-full rounded-lg border border-input bg-white/50 px-4 py-3 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-sans",e),ref:n,...r}));_.displayName="Textarea";var O=e.i(95187),M=(0,O.createServerReference)("40390c842f33a90da01520edfec158c398338fae34",O.callServer,void 0,O.findSourceMapURL,"createProduct"),$=(0,O.createServerReference)("6004d6f292fa6b7fc1bc1505951eb51292fcde1e52",O.callServer,void 0,O.findSourceMapURL,"updateProduct"),D=(0,O.createServerReference)("60659acf8a4c469a231a366b6ddeb5d93904ebe3d8",O.callServer,void 0,O.findSourceMapURL,"uploadProductImages");let I=(0,e.i(70703).default)(()=>e.A(2956),{loadableGenerated:{modules:[31739]},ssr:!1});function T({initial:e={},productId:l,onSaved:o,redirectTo:s}){let{toast:u}=(0,n.useToast)(),[d,c]=(0,r.useState)(e.name||""),[p,m]=(0,r.useState)(e.price??0),[v,b]=(0,r.useState)(e.inventory??0),[h,g]=(0,r.useState)(e.description||""),[x,y]=(0,r.useState)(e.category||""),[j,w]=(0,r.useState)(!!e.published),[S,C]=(0,r.useState)(!!e.featured),[N,P]=(0,r.useState)(e.variants?JSON.stringify(e.variants,null,2):""),[R,k]=(0,r.useState)([]),[O,T]=(0,r.useState)(e.images||[]),A=(0,r.useRef)(null);async function U(){if(l&&0!==R.length)try{u({title:"Uploading imagesâ€¦"});let e=await D(l,R);return u({title:"Uploaded",description:`${e.length} images uploaded`}),e}catch(e){u({title:"Upload error",description:e?.message||"Failed to upload images"})}}async function B(e){e.preventDefault();try{let e=new FormData;if(e.append("name",d),e.append("price",String(p)),e.append("inventory",String(v)),e.append("description",h),e.append("category",x),e.append("published",String(j)),e.append("featured",String(S)),e.append("variants",N),R.forEach(t=>e.append("files",t)),l){let t=await $(l,e);u({title:"Product updated"}),s?window.location.href=`${s}/${t.id}`:o?.(t)}else{let t=await M(e);u({title:"Product created"}),s?window.location.href=`${s}/${t.id}`:o?.(t)}}catch(e){u({title:"Form error",description:e?.message||"An error occurred"})}}return(0,t.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f,{children:"Name"}),(0,t.jsx)(a.Input,{value:d,onChange:e=>c(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f,{children:"Price"}),(0,t.jsx)(a.Input,{type:"number",value:p,onChange:e=>m(Number(e.target.value)),step:.01,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f,{children:"Inventory"}),(0,t.jsx)(a.Input,{type:"number",value:v,onChange:e=>b(Number(e.target.value)),required:!0})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)(E,{checked:j,onCheckedChange:e=>w(!!e)}),(0,t.jsx)("div",{className:"text-sm text-slate-200",children:"Published"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)(E,{checked:S,onCheckedChange:e=>C(!!e)}),(0,t.jsx)("div",{className:"text-sm text-slate-200",children:"Featured"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f,{children:"Category"}),(0,t.jsx)(a.Input,{value:x,onChange:e=>y(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f,{children:"Description"}),(0,t.jsx)(I,{value:h,onChange:e=>g(e)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f,{children:"Variants (JSON)"}),(0,t.jsx)(_,{value:N,onChange:e=>P(e.target.value),rows:4})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"border border-slate-700 rounded p-4 cursor-pointer flex items-center gap-3",onDrop:e=>{e.preventDefault();let t=Array.from(e.dataTransfer?.files||[]);k(e=>e.concat(t))},onDragOver:e=>e.preventDefault(),onClick:()=>A.current?.click(),children:[(0,t.jsx)("input",{"aria-label":"Upload images",ref:A,type:"file",multiple:!0,accept:"image/*",onChange:e=>k(Array.from(e.target.files||[])),className:"hidden"}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Drag & drop or click to select files"})]}),(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:[R.length," files selected"]}),l&&(0,t.jsx)(i.Button,{onClick:e=>{e.preventDefault(),U()},children:"Upload images"})]}),O&&O.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-2",children:O.map(e=>(0,t.jsx)("img",{src:e,alt:"product",className:"w-24 h-24 object-cover rounded"},e))}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(i.Button,{type:"submit",children:l?"Save product":"Create product"})})]})}e.s(["default",()=>T],85388)},2956,e=>{e.v(t=>Promise.all(["static/chunks/489e9bb849c9a4ba.js"].map(t=>e.l(t))).then(()=>t(31739)))}]);