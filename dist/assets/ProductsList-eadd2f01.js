import{r as d,j as e,b as m,u as g,a as f,i as b,k as h,m as v,L as w,e as y,l as j,B as N,n as k,f as _}from"./index-990712f9.js";const C=(t,n=85)=>{if(!t)return"So cute! You need this ♡";try{const i=document.createElement("DIV");i.innerHTML=t;let r=i.textContent||i.innerText||"";return r=r.replace(/\s+/g," ").trim(),r.length<=n?r:r.slice(0,r.lastIndexOf(" ",n))+"..."}catch{return t.replace(/<[^>]+>/g," ").replace(/&nbsp;/g," ").slice(0,n)+"..."}},D=({product:t,index:n})=>{const{addToCart:i}=g(),{toast:r}=f(),l=b(),s=t.variants&&t.variants.length>0?t.variants[0]:null;if(!s)return null;const a=s.sale_price_in_cents&&s.sale_price_in_cents<s.price_in_cents,c=h(a?s.sale_price_in_cents:s.price_in_cents,s.currency_info),o=a?h(s.price_in_cents,s.currency_info):null,x=async p=>{if(p.preventDefault(),p.stopPropagation(),t.variants.length>1){l(`/product/${t.id}`);return}await i(t,s,1),r({title:"Added to basket!",description:`${t.title} is coming home!`}),_({particleCount:150,spread:100,origin:{y:.7},colors:["#FFB3D9","#D8B4FE","#A7F3D0","#99F3FF","#F0A8F8"],shapes:["heart","star"]})},u=t.title.toLowerCase().includes("basic starter pack")?"LittleSpace Kit with essentials for your journey.":C(t.description);return e.jsx(v.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{delay:n*.05,duration:.4},whileHover:{y:-8},className:"relative group h-full",children:e.jsx(w,{to:`/product/${t.id}`,className:"block h-full",children:e.jsxs("div",{className:"product-card-glow h-full flex flex-col bg-gradient-to-b from-white/[0.08] to-transparent border border-white/10 rounded-3xl overflow-hidden hover:border-pink-400/50 transition-all duration-300 shadow-lg hover:shadow-pink-500/10",children:[t.ribbon_text&&e.jsx("div",{className:"absolute top-4 left-0 z-20",children:e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white text-xs font-bold px-3 py-1 rounded-r-full shadow-lg border-t border-b border-white/20",children:t.ribbon_text})}),e.jsxs("div",{className:"relative aspect-[4/4] overflow-hidden bg-black/20",children:[e.jsx(y,{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity"}),e.jsx("div",{className:"absolute bottom-3 right-3 translate-y-10 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:e.jsx("div",{className:"bg-white text-black p-2 rounded-full shadow-lg",children:e.jsx(j,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-pink-300 transition-colors line-clamp-1 mb-2",children:t.title}),e.jsx("p",{className:"text-purple-200/70 text-xs leading-relaxed line-clamp-2 mb-4 min-h-[2.5em]",children:u}),e.jsxs("div",{className:"mt-auto flex items-center justify-between gap-3 pt-3 border-t border-white/5",children:[e.jsxs("div",{className:"flex flex-col",children:[a&&e.jsx("span",{className:"line-through text-gray-500 text-xs font-medium",children:o}),e.jsx("span",{className:"text-lg font-bold text-white drop-shadow-md",children:c})]}),e.jsx(N,{onClick:x,size:"sm",className:"rounded-xl bg-white/10 hover:bg-pink-500 hover:text-white text-pink-200 border border-white/10 transition-all duration-300 font-bold text-xs px-4",children:t.variants.length>1?"View":"Add"})]})]})]})})})},F=()=>{const[t,n]=d.useState([]),[i,r]=d.useState(!0),[l,s]=d.useState(null);return d.useEffect(()=>{let a=!0;return(async()=>{try{r(!0);const x=(await k()).products||[];a&&n(x)}catch(o){console.error("Error loading store data:",o),a&&s(o.message)}finally{a&&r(!1)}})(),()=>{a=!1}},[]),i?e.jsx("div",{className:"flex justify-center py-32",children:e.jsx(m,{className:"h-12 w-12 text-pink-400 animate-spin"})}):l?e.jsxs("div",{className:"text-center py-20 text-red-400 bg-red-900/20 rounded-xl m-4 p-8 max-w-2xl mx-auto border border-red-500/30",children:["Error: ",l]}):t.length===0?e.jsx("div",{className:"text-center py-32 text-purple-300 text-xl",children:"The shelves are being restocked! Check back soon ♡"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto px-4 pb-20",children:t.map((a,c)=>e.jsx(D,{product:a,index:c},a.id))})},L=F;export{L as P};
